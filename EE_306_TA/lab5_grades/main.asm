;DIANE PHAN 

	.ORIG x3000 


	LD	R6 Stack ;Initalize Stack

	LD	R0,KBISR ;Setup KB INT Vector Entry
	STI	R0,KBIVE

	LD	R0,KBINT ;Enable KB interrupt
	STI	R0,KBSR

	LD R1 DOTS;

MAINPRO	LD R2 ASCII_NEWLINE
	STI R2 DDR
	JSR DELAY
	
DOTTY	LD R2 ASCII_DOT
	STI R2 DDR
	JSR DELAY
	ADD R1 R1 #-1;
	BRNP CONT
	LD R1 DOTS;
	BRNZP LASTTIME;

CONT	LD R2 ASCII_SPACE
	STI R2 DDR
	JSR DELAY

	LD R2 ASCII_SPACE
	STI R2 DDR
	JSR DELAY

	BRNZP DOTTY

LASTTIME
	LD R2 ASCII_SPACE
	STI R2 DDR
	JSR DELAY

	LD R2 ASCII_SPACE
	STI R2 DDR
	JSR DELAY

	BRNZP MAINPRO



COUNT	.FILL 	#2500;
Stack	.FILL	x4000
KBSR	.FILL	xFE00
KBINT	.FILL	x4000
KBIVE	.FILL	x0180
DOTS	.FILL	#20
DSR	.FILL	xFE04
DDR	.FILL	xFE06
DDRR	.FILL	xFE06
KBISR	.FILL	x4000
ASCII_NEWLINE	.FILL	x0A
ASCII_DOT	.FILL	x2E
ASCII_SPACE 	.FILL 	x20



;;;;;DELAY SUBROUTINE
DELAY	ST R7 SAVER7;
	LD R2 COUNT;
AGAIN	ADD R2 R2 #-1;
	BRP AGAIN
	
	LD R7 SAVER7;
	RET
SAVER7	.BLKW #1
	.END
